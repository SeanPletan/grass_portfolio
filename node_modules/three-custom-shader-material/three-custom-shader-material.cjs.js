"use strict";const a=require("react/jsx-runtime"),d=require("react"),j=require("./vanilla/three-custom-shader-material.cjs.js");function p(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const e in t)if(e!=="default"){const r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:()=>t[e]})}}return n.default=t,Object.freeze(n)}const o=p(d);function b(t,n){const e=o.useRef(!1);o.useEffect(()=>{if(e.current)return t();e.current=!0},n)}function m({baseMaterial:t,vertexShader:n,fragmentShader:e,uniforms:r,cacheKey:c,patchMap:i,attach:f,...s},l){const u=o.useMemo(()=>new j({baseMaterial:t,vertexShader:n,fragmentShader:e,uniforms:r,cacheKey:c,patchMap:i,...s}),[t]);return b(()=>{u.dispose(),u.update({vertexShader:n,fragmentShader:e,uniforms:r,patchMap:i,cacheKey:c})},[n,e,r,i,c]),o.useEffect(()=>()=>u.dispose(),[u]),a.jsx("primitive",{ref:l,attach:f??"material",object:u,...s})}const R=o.forwardRef(m);module.exports=R;
//# sourceMappingURL=three-custom-shader-material.cjs.js.map
